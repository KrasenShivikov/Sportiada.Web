@model CountryViewModel

<form method="post">
    <div class="form-group">
        <label asp-for="Name">Име</label>
        <input asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="form-text text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="ShortName">Абревиатура</label>
        <input asp-for="ShortName" class="form-control" />
        <span asp-validation-for="ShortName" class="form-text text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="PicturePath">Път на снимката</label>
        <input type="file" id="file" value="Избери файл"/><input type="button" value="Добави емблема" id="trigger" />
        <input asp-for="PicturePath" class="form-control" id="country"/>
        <span asp-validation-for="PicturePath" class="form-text text-danger"></span>
    </div>
    <div class="form-group">
        <input type="submit" class="btn btn-primary" value="Въведи" />
    </div>
</form>

<script>
    let countryFlagsPath = '~/images/countries/';
    let sliceIndex = 12;

    let country = document.getElementById('country');
    let trigger = document.getElementById('trigger');
    let file = document.getElementById('file');
    handleEventListener(trigger, country, file, sliceIndex, countryFlagsPath);

    function handleEventListener(trigger, element, fileElement, index, path) {
        trigger.addEventListener('click', () => {
            let fileElement_Text = fileElement.value.slice(index);
            let fullPath = path + fileElement_Text;
            element.value = fullPath;
        })
    }
</script>